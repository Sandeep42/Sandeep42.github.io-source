<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="author" content="Sandeep Tammu">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <title>Crime data visualization across diffrent states in India | Incredibly Uncertain</title>

        <link rel="alternate" type="application/atom+xml" title="Incredibly Uncertain blog atom feed" href="/feeds/all.atom.xml" />
        <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <link rel="stylesheet" href="/theme/css/pygments.css">
        <link rel="stylesheet" href="/theme/css/main.css">

    </head>

    <body>
        <header class="navbar navbar-static-top bs-docs-nav main-header">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand" href="/" title="Home" class="title">Daniel Rodriguez</a></li>
                </div>
                <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
                    <ul class="nav navbar-nav navbar-right">
                    </ul>
                </nav>
            </div>
        </header>

        <div id="wrap">
<div class="container post">
    <article>
        <header>
            <h1>Crime data visualization across diffrent states in India</h1>
            <time datetime="article.date.isoformat()" pubdate>Tue 16 February 2016</time>
        </header>

        <div class="article_content">
            <p>As a part of digital India initiative, the Indian government designed <a href="https://data.gov.in/">a new website</a> and uploaded a bunch of quite interesting datasets. I'm particularly excited about this because I have recently learned how to program in R (Coursera Data Science Specialization). R has some powerful packages (thanks to <em>Hadley Wickham</em> -- the 'R'ockstar) that can do powerful data cleaning, manipulation, and visualization. This post is mainly inspired by another <a href="http://rud.is/b/2016/02/14/making-faceted-heatmaps-with-ggplot2/">blog article</a>. I have a dataset in my mind that I wanted to explore, and this article gave me enough confidence to start producing some nice visualizations.</p>
<p>This data <a href="https://data.gov.in/catalog/persons-arrested-under-crime-against-women">persons arrested for crimes against women</a> is particularly interesting because we represent everything that we have in here using beautiful faceted heat maps. And, that also tells us some lessons on what states are notorious for crimes against women. You might have heard about the deluge of data that we are living in this information age, and this is what excites me about bringing insights from data.</p>
<h2>Cleaning the data</h2>
<p>The website provided with moderately clean data, it is by no means perfect. A typical problem that you would find in these datasets is that we want something to be recorded as an observation in a row, but it ends up in a column. Hadley developed an excellent package that can <em>melt</em> the data, and make it an observation. I'm not going into the data cleaning part in excruciating detail, but I'm going to upload <a href="https://github.com/Sandeep42/VisualizationProjects/blob/master/crimedata/crime_data_vis.ipynb">my notebook</a>, so you can have a look at it. For now, I'm providing a cleaned dataset in the repository so that you can start doing exciting things straight away.</p>
<p>We read the data, but don't forget setting stringsasFactors.</p>
<div class="highlight"><pre><span></span>df <span class="o">&lt;-</span> read.csv<span class="p">(</span><span class="s">&quot;data_tidy.csv&quot;</span><span class="p">,</span> stringsAsFactors <span class="o">=</span> <span class="kc">FALSE</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>str<span class="p">(</span>df<span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span>&#39;data.frame&#39;:   3888 obs. of  4 variables:
 $ STATE.UT  : chr  &quot;Andhra Pradesh&quot; &quot;Arunachal Pradesh&quot; &quot;Assam&quot; &quot;Bihar&quot; ...
 $ CRIME.HEAD: chr  &quot;RAPE&quot; &quot;RAPE&quot; &quot;RAPE&quot; &quot;RAPE&quot; ...
 $ number    : int  871 33 817 888 959 12 286 398 124 169 ...
 $ year      : int  2001 2001 2001 2001 2001 2001 2001 2001 2001 2001 ...
</pre></div>


<p>Let's see what we actually have here.</p>
<div class="highlight"><pre><span></span><span class="kp">head</span><span class="p">(</span>df<span class="p">)</span>
</pre></div>


<table>
<thead><tr><th></th><th scope=col>STATE.UT</th><th scope=col>CRIME.HEAD</th><th scope=col>number</th><th scope=col>year</th></tr></thead>
<tbody>
    <tr><th scope=row>1</th><td>Andhra Pradesh</td><td>RAPE</td><td>871</td><td>2001</td></tr>
    <tr><th scope=row>2</th><td>Arunachal Pradesh</td><td>RAPE</td><td>33</td><td>2001</td></tr>
    <tr><th scope=row>3</th><td>Assam</td><td>RAPE</td><td>817</td><td>2001</td></tr>
    <tr><th scope=row>4</th><td>Bihar</td><td>RAPE</td><td>888</td><td>2001</td></tr>
    <tr><th scope=row>5</th><td>Chhattisgarh</td><td>RAPE</td><td>959</td><td>2001</td></tr>
    <tr><th scope=row>6</th><td>Goa</td><td>RAPE</td><td>12</td><td>2001</td></tr>
</tbody>
</table>

<p>The government divided crimes into various types, let's explore what they are.</p>
<div class="highlight"><pre><span></span>new <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>df<span class="o">$</span>CRIME.HEAD<span class="p">)</span>
<span class="kp">levels</span><span class="p">(</span>new<span class="p">)</span>
</pre></div>


<ol class=list-inline>
    <li>"ASSAULT ON WOMEN WITH INTENT TO OUTRAGE HER MODESTY"</li>
    <li>"CRUELTY BY HUSBAND OR RELATIVES"</li>
    <li>"DOWRY DEATH"</li>
    <li>"IMMORAL TRAFFIC(PREVENTION)ACT"</li>
    <li>"INDECENT REPRESENTATION OF WOMEN(PREVENTION)ACT"</li>
    <li>"INSULT TO THE MODESTY OF WOMEN"</li>
    <li>"KIDNAPPING & ABDUCTION"</li>
    <li>"RAPE"</li>
    <li>"TOTAL CRIMES AGAINST WOMEN"</li>
</ol>

<p>Let's convert year as a factor, it is going to help us in visualization.</p>
<div class="highlight"><pre><span></span>df<span class="o">$</span>year <span class="o">&lt;-</span> <span class="kp">as.factor</span><span class="p">(</span>df<span class="o">$</span>year<span class="p">)</span>
</pre></div>


<p>Now, let us load some packages that will help us in doing the visualization.</p>
<div class="highlight"><pre><span></span><span class="kn">require</span><span class="p">(</span>dplyr<span class="p">)</span>
<span class="kn">require</span><span class="p">(</span>ggplot2<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>gridExtra<span class="p">)</span>  
<span class="kn">library</span><span class="p">(</span>ggthemes<span class="p">)</span>
<span class="kn">library</span><span class="p">(</span>viridis<span class="p">)</span>  
<span class="kn">library</span><span class="p">(</span>scales<span class="p">)</span>
</pre></div>


<p>I'm dividing the original cleaned dataset in to different data frames according to their crime type, this is going to help us in understanding the prevalence of various crimes across various states in the country.</p>
<div class="highlight"><pre><span></span>df_rape <span class="o">&lt;-</span> filter<span class="p">(</span>df<span class="p">,</span> CRIME.HEAD <span class="o">==</span> <span class="s">&quot;RAPE&quot;</span><span class="p">)</span>
df_assault <span class="o">&lt;-</span> filter<span class="p">(</span>df<span class="p">,</span> CRIME.HEAD <span class="o">==</span> <span class="s">&quot;ASSAULT ON WOMEN WITH INTENT TO OUTRAGE HER MODESTY&quot;</span><span class="p">)</span>
df_cruelty <span class="o">&lt;-</span> filter<span class="p">(</span>df<span class="p">,</span> CRIME.HEAD <span class="o">==</span> <span class="s">&quot;CRUELTY BY HUSBAND OR RELATIVES&quot;</span><span class="p">)</span>
df_dowry <span class="o">&lt;-</span> filter<span class="p">(</span>df<span class="p">,</span> CRIME.HEAD <span class="o">==</span> <span class="s">&quot;DOWRY DEATH&quot;</span><span class="p">)</span>
df_it <span class="o">&lt;-</span> filter<span class="p">(</span>df<span class="p">,</span> CRIME.HEAD <span class="o">==</span> <span class="s">&quot;IMMORAL TRAFFIC(PREVENTION)ACT&quot;</span><span class="p">)</span>
df_pw <span class="o">&lt;-</span> filter<span class="p">(</span>df<span class="p">,</span> CRIME.HEAD <span class="o">==</span> <span class="s">&quot;INDECENT REPRESENTATION OF WOMEN(PREVENTION)ACT&quot;</span><span class="p">)</span>
df_insult <span class="o">&lt;-</span> filter<span class="p">(</span>df<span class="p">,</span> CRIME.HEAD <span class="o">==</span> <span class="s">&quot;INSULT TO THE MODESTY OF WOMEN&quot;</span><span class="p">)</span>
df_ka <span class="o">&lt;-</span> filter<span class="p">(</span>df<span class="p">,</span> CRIME.HEAD <span class="o">==</span> <span class="s">&quot;KIDNAPPING &amp; ABDUCTION&quot;</span><span class="p">)</span>
df_total <span class="o">&lt;-</span> filter<span class="p">(</span>df<span class="p">,</span> CRIME.HEAD <span class="o">==</span> <span class="s">&quot;TOTAL CRIMES AGAINST WOMEN&quot;</span><span class="p">)</span>
</pre></div>


<h2>Visualizations</h2>
<p>I'm assuming some familiarity with ggplot, you can look at the original tutorial for better explanations to the code. There is one minor glitch in this data, the dataset also contains a 'total' variable which adds all the crimes of individual states. I had to remove it because when we do a heatmap, if one variable is too large, it is going to take all the weight. </p>
<p>(I had orignally planned to write a plot function, but that wouldn't generalize to this data because the 'total' variable is taking different names under different crimes.)</p>
<div class="highlight"><pre><span></span>df_rape<span class="o">$</span>CRIME.HEAD <span class="o">&lt;-</span> <span class="kc">NULL</span>
df_rape <span class="o">&lt;-</span> <span class="kp">droplevels</span><span class="p">(</span> df_rape<span class="p">[</span><span class="o">-</span><span class="kp">which</span><span class="p">(</span>df_rape<span class="o">$</span>STATE.UT <span class="o">==</span> <span class="s">&quot;All India&quot;</span><span class="p">),</span> <span class="p">]</span> <span class="p">)</span>
df_rape<span class="o">&lt;-</span> df_rape<span class="o">%&gt;%</span>
                group_by<span class="p">(</span>year<span class="p">)</span> <span class="o">%&gt;%</span>
                    arrange<span class="p">(</span>desc<span class="p">(</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> ggplot<span class="p">(</span>df_rape<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>year<span class="p">,</span> y<span class="o">=</span>reorder<span class="p">(</span>STATE.UT<span class="p">,</span> number<span class="p">),</span> fill<span class="o">=</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> geom_tile<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">0.1</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> scale_fill_viridis<span class="p">(</span>name<span class="o">=</span><span class="s">&quot;# Events&quot;</span><span class="p">,</span> label<span class="o">=</span>comma<span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> labs<span class="p">(</span>x<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> y<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> title<span class="o">=</span><span class="s">&quot;Persons arrested under rape against Women during 2001-2012&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme_tufte<span class="p">(</span>base_family<span class="o">=</span><span class="s">&quot;Helvetica&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>plot.title<span class="o">=</span>element_text<span class="p">(</span>hjust<span class="o">=</span><span class="m">0.5</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.ticks<span class="o">=</span>element_blank<span class="p">())</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">9</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">10</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">8</span><span class="p">))</span>
gg
</pre></div>


<p><img alt="svg" src="{{" title="site.url }}/assets/output_16_0.svg" /></p>
<p>It is quite amazing that ten lines of code produced a such a nice looking visualization that summarized the persons arrested for rape against women from 2001-2012 in all the states in India. I ordered the states in decreasing order. The top states show a consistency of crimes committed against women. One clear trend that I see here is that the state West Bengal has been moderately safe for women during 2001-2003, but after that there seems to be a consistent upward trend towards more rapes.</p>
<div class="highlight"><pre><span></span><span class="c1">#df_assault &lt;- filter(df, CRIME.HEAD == &quot;ASSAULT ON WOMEN WITH INTENT TO OUTRAGE HER MODESTY&quot;)</span>
df_assault<span class="o">$</span>CRIME.HEAD <span class="o">&lt;-</span> <span class="kc">NULL</span>
df_assault <span class="o">&lt;-</span> <span class="kp">droplevels</span><span class="p">(</span> df_assault<span class="p">[</span><span class="o">-</span><span class="kp">which</span><span class="p">(</span>df_assault<span class="o">$</span>STATE.UT <span class="o">==</span> <span class="s">&quot;All India&quot;</span><span class="p">),</span> <span class="p">]</span> <span class="p">)</span>

gg <span class="o">&lt;-</span> ggplot<span class="p">(</span>df_assault<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>year<span class="p">,</span> y<span class="o">=</span>reorder<span class="p">(</span>STATE.UT<span class="p">,</span> number<span class="p">),</span> fill<span class="o">=</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> geom_tile<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">0.1</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> scale_fill_viridis<span class="p">(</span>name<span class="o">=</span><span class="s">&quot;# Events&quot;</span><span class="p">,</span> label<span class="o">=</span>comma<span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> labs<span class="p">(</span>x<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> y<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> title<span class="o">=</span><span class="s">&quot;Persons arrested under assault against Women during 2001-2012&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme_tufte<span class="p">(</span>base_family<span class="o">=</span><span class="s">&quot;Helvetica&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>plot.title<span class="o">=</span>element_text<span class="p">(</span>hjust<span class="o">=</span><span class="m">0.5</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.ticks<span class="o">=</span>element_blank<span class="p">())</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">9</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">10</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">8</span><span class="p">))</span>
gg
<span class="c1">#ggsave(filename=&quot;assault.jpg&quot;, plot=gg)</span>
</pre></div>


<p><img alt="svg" src="{{" title="site.url }}/assets/output_18_0.svg" /></p>
<div class="highlight"><pre><span></span>df_cruelty<span class="o">$</span>CRIME.HEAD <span class="o">&lt;-</span> <span class="kc">NULL</span>
df_cruelty <span class="o">&lt;-</span> <span class="kp">droplevels</span><span class="p">(</span> df_cruelty<span class="p">[</span><span class="o">-</span><span class="kp">which</span><span class="p">(</span>df_cruelty<span class="o">$</span>STATE.UT <span class="o">==</span> <span class="s">&quot;All India&quot;</span><span class="p">),</span> <span class="p">]</span> <span class="p">)</span>
df_cruelty<span class="o">&lt;-</span> df_cruelty<span class="o">%&gt;%</span>
                group_by<span class="p">(</span>year<span class="p">)</span> <span class="o">%&gt;%</span>
                    arrange<span class="p">(</span>desc<span class="p">(</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> ggplot<span class="p">(</span>df_cruelty<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>year<span class="p">,</span> y<span class="o">=</span>reorder<span class="p">(</span>STATE.UT<span class="p">,</span> number<span class="p">),</span> fill<span class="o">=</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> geom_tile<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">0.1</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> scale_fill_viridis<span class="p">(</span>name<span class="o">=</span><span class="s">&quot;# Events&quot;</span><span class="p">,</span> label<span class="o">=</span>comma<span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> labs<span class="p">(</span>x<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> y<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> title<span class="o">=</span><span class="s">&quot;Persons arrested under cruelty against Women during 2001-2012&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme_tufte<span class="p">(</span>base_family<span class="o">=</span><span class="s">&quot;Helvetica&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>plot.title<span class="o">=</span>element_text<span class="p">(</span>hjust<span class="o">=</span><span class="m">0.5</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.ticks<span class="o">=</span>element_blank<span class="p">())</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">9</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">10</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">8</span><span class="p">))</span>
gg
</pre></div>


<p><img alt="svg" src="{{" title="site.url }}/assets/output_19_0.svg" /></p>
<p>Again we see similar patterns emerge from West Bengal, Madya Pradesh and Andhra Pradesh.</p>
<div class="highlight"><pre><span></span>df_ka<span class="o">$</span>CRIME.HEAD <span class="o">&lt;-</span> <span class="kc">NULL</span>
df_ka <span class="o">&lt;-</span> <span class="kp">droplevels</span><span class="p">(</span> df_ka<span class="p">[</span><span class="o">-</span><span class="kp">which</span><span class="p">(</span>df_ka<span class="o">$</span>STATE.UT <span class="o">==</span> <span class="s">&quot;ALL INDIA K&amp;A&quot;</span><span class="p">),</span> <span class="p">]</span> <span class="p">)</span>
df_ka<span class="o">&lt;-</span> df_ka<span class="o">%&gt;%</span>
                group_by<span class="p">(</span>year<span class="p">)</span> <span class="o">%&gt;%</span>
                    arrange<span class="p">(</span>desc<span class="p">(</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> ggplot<span class="p">(</span>df_ka<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>year<span class="p">,</span> y<span class="o">=</span>reorder<span class="p">(</span>STATE.UT<span class="p">,</span> number<span class="p">),</span> fill<span class="o">=</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> geom_tile<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">0.1</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> scale_fill_viridis<span class="p">(</span>name<span class="o">=</span><span class="s">&quot;# Events&quot;</span><span class="p">,</span> label<span class="o">=</span>comma<span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> labs<span class="p">(</span>x<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> y<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> title<span class="o">=</span><span class="s">&quot;Persons arrested under kidnapping and abduction of Women during 2001-2012&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme_tufte<span class="p">(</span>base_family<span class="o">=</span><span class="s">&quot;Helvetica&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>plot.title<span class="o">=</span>element_text<span class="p">(</span>hjust<span class="o">=</span><span class="m">0.5</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.ticks<span class="o">=</span>element_blank<span class="p">())</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">9</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">10</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">8</span><span class="p">))</span>
gg
</pre></div>


<p><img alt="svg" src="{{" title="site.url }}/assets/output_21_0.svg" /></p>
<p>Kidnapping and abduction is a serious issue, and Uttar Pradesh topped the list. In the last couple of years, we see a sudden increase in abductions of women from Uttar Pradesh.</p>
<div class="highlight"><pre><span></span>df_dowry<span class="o">$</span>CRIME.HEAD <span class="o">&lt;-</span> <span class="kc">NULL</span>
df_dowry <span class="o">&lt;-</span> <span class="kp">droplevels</span><span class="p">(</span>df_dowry<span class="p">[</span><span class="o">-</span><span class="kp">which</span><span class="p">(</span>df_dowry<span class="o">$</span>STATE.UT <span class="o">==</span> <span class="s">&quot;ALL INDIA &quot;</span><span class="p">),</span> <span class="p">]</span> <span class="p">)</span>
df_dowry<span class="o">&lt;-</span> df_dowry<span class="o">%&gt;%</span>
                group_by<span class="p">(</span>year<span class="p">)</span> <span class="o">%&gt;%</span>
                    arrange<span class="p">(</span>desc<span class="p">(</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> ggplot<span class="p">(</span>df_dowry<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>year<span class="p">,</span> y<span class="o">=</span>reorder<span class="p">(</span>STATE.UT<span class="p">,</span> number<span class="p">),</span> fill<span class="o">=</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> geom_tile<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">0.1</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> scale_fill_viridis<span class="p">(</span>name<span class="o">=</span><span class="s">&quot;# Events&quot;</span><span class="p">,</span> label<span class="o">=</span>comma<span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> labs<span class="p">(</span>x<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> y<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> title<span class="o">=</span><span class="s">&quot;Persons arrested under dowry death against Women during 2001-2012&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme_tufte<span class="p">(</span>base_family<span class="o">=</span><span class="s">&quot;Helvetica&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>plot.title<span class="o">=</span>element_text<span class="p">(</span>hjust<span class="o">=</span><span class="m">0.5</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.ticks<span class="o">=</span>element_blank<span class="p">())</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">9</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">10</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">8</span><span class="p">))</span>
gg
</pre></div>


<p><img alt="svg" src="{{" title="site.url }}/assets/output_23_0.svg" /></p>
<div class="highlight"><pre><span></span><span class="c1">#df_it &lt;- filter(df, CRIME.HEAD == &quot;IMMORAL TRAFFIC(PREVENTION)ACT&quot;)</span>
df_it<span class="o">$</span>CRIME.HEAD <span class="o">&lt;-</span> <span class="kc">NULL</span>
df_it <span class="o">&lt;-</span> <span class="kp">droplevels</span><span class="p">(</span>df_it<span class="p">[</span><span class="o">-</span><span class="kp">which</span><span class="p">(</span>df_it<span class="o">$</span>STATE.UT <span class="o">==</span> <span class="s">&quot;All India&quot;</span><span class="p">),</span> <span class="p">]</span> <span class="p">)</span>
df_it<span class="o">&lt;-</span> df_it<span class="o">%&gt;%</span>
                group_by<span class="p">(</span>year<span class="p">)</span> <span class="o">%&gt;%</span>
                    arrange<span class="p">(</span>desc<span class="p">(</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> ggplot<span class="p">(</span>df_it<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>year<span class="p">,</span> y<span class="o">=</span>reorder<span class="p">(</span>STATE.UT<span class="p">,</span> number<span class="p">),</span> fill<span class="o">=</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> geom_tile<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">0.1</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> scale_fill_viridis<span class="p">(</span>name<span class="o">=</span><span class="s">&quot;# Events&quot;</span><span class="p">,</span> label<span class="o">=</span>comma<span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> labs<span class="p">(</span>x<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> y<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> title<span class="o">=</span><span class="s">&quot;Persons arrested under immoral traffic of Women during 2001-2012&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme_tufte<span class="p">(</span>base_family<span class="o">=</span><span class="s">&quot;Helvetica&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>plot.title<span class="o">=</span>element_text<span class="p">(</span>hjust<span class="o">=</span><span class="m">0.5</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.ticks<span class="o">=</span>element_blank<span class="p">())</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">9</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">10</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">8</span><span class="p">))</span>
gg
</pre></div>


<p><img alt="svg" src="{{" title="site.url }}/assets/output_24_0.svg" /></p>
<p>We can see that most of the states were able to control immoral traffic of women from 2001-2012. </p>
<div class="highlight"><pre><span></span><span class="c1">#df_insult &lt;- filter(df, CRIME.HEAD == &quot;INSULT TO THE MODESTY OF WOMEN&quot;)</span>
df_insult<span class="o">$</span>CRIME.HEAD <span class="o">&lt;-</span> <span class="kc">NULL</span>
df_insult<span class="o">&lt;-</span> <span class="kp">droplevels</span><span class="p">(</span>df_insult <span class="p">[</span><span class="o">-</span><span class="kp">which</span><span class="p">(</span>df_insult<span class="o">$</span>STATE.UT <span class="o">==</span> <span class="s">&quot;All India&quot;</span><span class="p">),</span> <span class="p">]</span> <span class="p">)</span>
df_insult<span class="o">&lt;-</span> df_insult <span class="o">%&gt;%</span>
                group_by<span class="p">(</span>year<span class="p">)</span> <span class="o">%&gt;%</span>
                    arrange<span class="p">(</span>desc<span class="p">(</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> ggplot<span class="p">(</span>df_insult<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>year<span class="p">,</span> y<span class="o">=</span>reorder<span class="p">(</span>STATE.UT<span class="p">,</span> number<span class="p">),</span> fill<span class="o">=</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> geom_tile<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">0.1</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> scale_fill_viridis<span class="p">(</span>name<span class="o">=</span><span class="s">&quot;# Events&quot;</span><span class="p">,</span> label<span class="o">=</span>comma<span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> labs<span class="p">(</span>x<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> y<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> title<span class="o">=</span><span class="s">&quot;Persons arrested under insult to modesty of Women during 2001-2012&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme_tufte<span class="p">(</span>base_family<span class="o">=</span><span class="s">&quot;Helvetica&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>plot.title<span class="o">=</span>element_text<span class="p">(</span>hjust<span class="o">=</span><span class="m">0.5</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.ticks<span class="o">=</span>element_blank<span class="p">())</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">9</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">10</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">8</span><span class="p">))</span>
gg
</pre></div>


<p><img alt="svg" src="{{" title="site.url }}/assets/output_26_0.svg" /></p>
<div class="highlight"><pre><span></span><span class="c1">#df_pw &lt;- filter(df, CRIME.HEAD == &quot;INDECENT REPRESENTATION OF WOMEN(PREVENTION)ACT&quot;)</span>
df_pw<span class="o">$</span>CRIME.HEAD <span class="o">&lt;-</span> <span class="kc">NULL</span>
df_pw<span class="o">&lt;-</span> <span class="kp">droplevels</span><span class="p">(</span>df_pw <span class="p">[</span><span class="o">-</span><span class="kp">which</span><span class="p">(</span>df_pw<span class="o">$</span>STATE.UT <span class="o">==</span> <span class="s">&quot;All India&quot;</span><span class="p">),</span> <span class="p">]</span> <span class="p">)</span>
df_pw<span class="o">&lt;-</span> df_pw <span class="o">%&gt;%</span>
                group_by<span class="p">(</span>year<span class="p">)</span> <span class="o">%&gt;%</span>
                    arrange<span class="p">(</span>desc<span class="p">(</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> ggplot<span class="p">(</span>df_pw<span class="p">,</span> aes<span class="p">(</span>x<span class="o">=</span>year<span class="p">,</span> y<span class="o">=</span>reorder<span class="p">(</span>STATE.UT<span class="p">,</span> number<span class="p">),</span> fill<span class="o">=</span>number<span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> geom_tile<span class="p">(</span>color<span class="o">=</span><span class="s">&quot;white&quot;</span><span class="p">,</span> size<span class="o">=</span><span class="m">0.1</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> scale_fill_viridis<span class="p">(</span>name<span class="o">=</span><span class="s">&quot;# Events&quot;</span><span class="p">,</span> label<span class="o">=</span>comma<span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> labs<span class="p">(</span>x<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> y<span class="o">=</span><span class="kc">NULL</span><span class="p">,</span> title<span class="o">=</span><span class="s">&quot;Persons arrested under indecent representaion of women during 2001-2012&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme_tufte<span class="p">(</span>base_family<span class="o">=</span><span class="s">&quot;Helvetica&quot;</span><span class="p">)</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>plot.title<span class="o">=</span>element_text<span class="p">(</span>hjust<span class="o">=</span><span class="m">0.5</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.ticks<span class="o">=</span>element_blank<span class="p">())</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>axis.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">9</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.title<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">10</span><span class="p">))</span>
gg <span class="o">&lt;-</span> gg <span class="o">+</span> theme<span class="p">(</span>legend.text<span class="o">=</span>element_text<span class="p">(</span>size<span class="o">=</span><span class="m">8</span><span class="p">))</span>
gg
</pre></div>


<p><img alt="svg" src="{{" title="site.url }}/assets/output_27_0.svg" /></p>
<p>We see no useful patterns in the last couple of cases, but we succeeded in visualizing a ton of information. I'm so much in love with the data provided in the open data website, and will be looking forward to explore more. One could use this information to make improved policies in particular states, and I'm looking forward to include some other features and build a predictive model that could predict a probability of risk, given a particular state.</p>
        </div>

        <div class="meta">
            <div>
            </div>
            <div>
                <a id="comments-button" class="comments_btn" href="#disqus_thread">Show comments</a>
            </div>
        </div>
    </article>
</div>

<style type="text/css">
.text_cell .prompt {
    display: none;
}

div.cell {
    padding: 0;
}

div.text_cell_render {
    padding: 0;
}

div.prompt {
    font-size: 13px;
}

div.input_prompt {
    padding: .7em 0.2em;
}

div.output_prompt {
    padding: .4em .2em;
}

div.input_area {
    margin: .2em 0.4em;
}

table.dataframe {
    font-family: Arial, sans-serif;
    font-size: 13px;
    line-height: 20px;
}

table.dataframe th, td {
    padding: 4px;
    text-align: left;
}</style>

<script type="text/javascript">
(function () {
    'use strict';

    // Global object
    var App = {};

    // Create button
    App.commentsButton = document.getElementById('comments-button');

    App.commentsButton.onclick = function () {
        // Remove button action on click
        App.commentsButton.onclick = function () {
        }

        // Create comments container
        App.disqusContainer = document.createElement('div');
        App.disqusContainer.setAttribute('id', 'disqus_thread');
        // App.disqusContainer.setAttribute('class', 'container');

        // Append container to body or div
        // document.body.appendChild( App.disqusContainer );
        var container = document.getElementsByClassName('container post')[0];
        container.appendChild(App.disqusContainer);

        // Your Disqus shortname
        App.disqus_shortname = '';

        // Embed Disqus
        var dsq = document.createElement('script');

        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + App.disqus_shortname + '.disqus.com/embed.js';

        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

        window.scrollTo(0, dsq.offsetTop - 200);
    };
})();
</script>

        </div>
    </body>
</html>